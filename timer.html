<html>
<head>
    <title>Timer</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="css/cssReset.css">
	<link rel="stylesheet" type="text/css" href="css/timer.css">
</head>
<body>
	<div id="ratio">0</div>
    <h1 id="time"></h1>
	<div id="counter">0</div>
    <script>
	var ratio= 0;
    var num= 0;
	var a = 0;
    var day, hour, minute, second = 0;
    var sign = ":";
    var str = "";   
	document.addEventListener("click",counter);
	document.addEventListener("keydown",counter);
	function counter() {
	a++;
	document.getElementById("counter").innerHTML = a;
	
	}
    function converter(s) {
        second = Math.floor(s % 60);
        minute = Math.floor((s / 60) % 60);
        hour = Math.floor(s / (60 * 60) % 24);
        day = Math.floor(s / (60*60*24) % 7);
	str = minifier(second, minute, hour, day);
        return str;
    }
	    
	function minifier(s,m,h,d) {
	if (d > 0){
	str = leadingZero(day) + sign + "<span class='small'>" + leadingZero(hour) + sign + leadingZero(minute) + sign  +"<span class='smaller'>"+leadingZero(second)+"</span></span>";
	return str;
	}
	else if (h > 0) {
	str = leadingZero(hour) + sign +"<span class='small'>"+ leadingZero(minute) + sign +"<span class='smaller'>"+leadingZero(second)+"</span></span>";
	return str;
	}
	else if (m > 0){
	str = leadingZero(minute) + sign + "<span class='small'>" +"<span class='smaller'>"+leadingZero(second)+"</span></span>";
	return str;
	} 
	else {
	str = "<span class='small-animated'>"+leadingZero(second)+"</span>";
	return str;
	}
	}
    function leadingZero(input){
        if (input < 10) {
            return "0" + input;
        } else {
            return input;
        }
    }
    function timer() {
        num++;
        document.getElementById("time").innerHTML = converter(num);
		ratio = (a / (num / 60)).toFixed(2);
        document.getElementById("ratio").innerHTML = ratio;
    }
    var timerStart = setInterval(timer, 1000);
    
    </script>
</body>
</html>
